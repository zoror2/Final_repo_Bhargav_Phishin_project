<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScamiFy LSTM Integration Test</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .test-section {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .test-link {
            display: inline-block;
            padding: 10px 15px;
            margin: 5px;
            background: rgba(255,255,255,0.2);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s;
            border: 1px solid rgba(255,255,255,0.3);
        }
        .test-link:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        .suspicious {
            background: rgba(220, 38, 38, 0.3);
            border-color: rgba(220, 38, 38, 0.5);
        }
        .legitimate {
            background: rgba(34, 197, 94, 0.3);
            border-color: rgba(34, 197, 94, 0.5);
        }
        .instructions {
            background: rgba(59, 130, 246, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #3b82f6;
        }
        .status {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 15px;
            background: rgba(0,0,0,0.8);
            border-radius: 8px;
            font-size: 14px;
            z-index: 1000;
        }
        h1, h2 {
            text-align: center;
            margin-bottom: 30px;
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            font-size: 1.1em;
            opacity: 0.8;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <div class="status">
        ğŸ›¡ï¸ ScamiFy Active
    </div>

    <h1>ğŸš€ ScamiFy LSTM Integration Test</h1>
    <p class="subtitle">Dual-Model AI Phishing Detection: ANN + LSTM</p>

    <div class="instructions">
        <h3>ğŸ§ª Testing Instructions:</h3>
        <ol>
            <li><strong>Hover Test (ANN)</strong>: Hover over links below to see ANN predictions in tooltips</li>
            <li><strong>Click Test (LSTM)</strong>: Click suspicious links to trigger LSTM deep analysis</li>
            <li><strong>Navigation Test</strong>: Links will be analyzed before navigation</li>
            <li><strong>Backend Status</strong>: Make sure Flask backend is running on port 5000</li>
        </ol>
        <p><strong>Expected Behavior:</strong></p>
        <ul>
            <li>âœ… <strong>Hover</strong>: Fast ANN analysis (< 1 second)</li>
            <li>ğŸ” <strong>Click</strong>: Deeper LSTM analysis (2-3 seconds)</li>
            <li>âš ï¸ <strong>Warnings</strong>: Modal dialogs for suspicious links</li>
            <li>ğŸ¯ <strong>Consensus</strong>: Both models combined for final decision</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ¯ Suspicious Links (Should Trigger Warnings)</h2>
        <p>These links contain suspicious patterns that should be detected:</p>
        
        <a href="http://paypal-security-update.fake-domain.com/login" class="test-link suspicious">
            ğŸš¨ Fake PayPal Login
        </a>
        
        <a href="https://amazon-account-verification.suspicious-site.net/verify" class="test-link suspicious">
            ğŸš¨ Fake Amazon Verification
        </a>
        
        <a href="http://microsoft-security-alert.phishing-test.org/urgent" class="test-link suspicious">
            ğŸš¨ Fake Microsoft Security
        </a>
        
        <a href="https://bank-of-america-security.fake-banking.com/login" class="test-link suspicious">
            ğŸš¨ Fake Banking Site
        </a>

        <a href="http://suspicious-bank-login.temporary-site.net/secure" class="test-link suspicious">
            ğŸš¨ Generic Bank Phishing
        </a>
    </div>

    <div class="test-section">
        <h2>âœ… Legitimate Links (Should Be Safe)</h2>
        <p>These links should be classified as safe:</p>
        
        <a href="https://www.google.com" class="test-link legitimate">
            âœ… Google Search
        </a>
        
        <a href="https://www.github.com" class="test-link legitimate">
            âœ… GitHub
        </a>
        
        <a href="https://www.wikipedia.org" class="test-link legitimate">
            âœ… Wikipedia
        </a>
        
        <a href="https://www.stackoverflow.com" class="test-link legitimate">
            âœ… Stack Overflow
        </a>
    </div>

    <div class="test-section">
        <h2>ğŸ”¬ Model Comparison Test</h2>
        <p>Test both models simultaneously to see how they compare:</p>
        
        <a href="http://test-phishing-site.example.org/login" class="test-link" style="background: rgba(147, 51, 234, 0.3); border-color: rgba(147, 51, 234, 0.5);">
            ğŸ”¬ Model Comparison Test
        </a>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š Backend Status Check</h2>
        <p>Check if the Flask backend is responding:</p>
        <button onclick="testBackend()" class="test-link" style="border: none; cursor: pointer;">
            ğŸ” Test Backend Connection
        </button>
        <div id="backend-status" style="margin-top: 10px;"></div>
    </div>

    <script>
        // Test backend connectivity
        async function testBackend() {
            const statusDiv = document.getElementById('backend-status');
            statusDiv.innerHTML = 'â³ Testing backend...';
            
            try {
                const response = await fetch('http://127.0.0.1:5000/health');
                if (response.ok) {
                    const health = await response.json();
                    statusDiv.innerHTML = `
                        âœ… <strong>Backend Online!</strong><br>
                        ğŸ§  ANN Available: ${health.ann_available || 'Unknown'}<br>
                        ğŸ” LSTM Available: ${health.lstm_available || 'Unknown'}<br>
                        ğŸ’¾ Database: ${health.database_status || 'Unknown'}
                    `;
                } else {
                    statusDiv.innerHTML = `âŒ Backend responded with status: ${response.status}`;
                }
            } catch (error) {
                statusDiv.innerHTML = `âŒ <strong>Backend Offline</strong><br>Error: ${error.message}<br><br>
                    <strong>To fix:</strong><br>
                    1. Navigate to backend directory<br>
                    2. Run: python app.py<br>
                    3. Refresh this page`;
            }
        }

        // Log extension activity
        console.log('ğŸ§ª ScamiFy Integration Test Page Loaded');
        console.log('Waiting for ScamiFy extension to initialize...');
        
        // Check if ScamiFy is loaded
        setTimeout(() => {
            if (window.__SCAMIFY_READY) {
                console.log('âœ… ScamiFy extension detected and ready!');
            } else {
                console.warn('âš ï¸ ScamiFy extension not detected. Make sure it\'s loaded in Chrome.');
            }
        }, 2000);

        // Auto-test backend on page load
        setTimeout(testBackend, 1000);
    </script>
</body>
</html>